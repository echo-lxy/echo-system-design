---
title: Redis 淘汰策略
date: 2024-09-15 23:59:53
permalink: /pages/b43a49/
---

本文从源码层面分析了 redis 的缓存淘汰机制，并在文章末尾描述使用 Java 实现的思路，以供参考。

## 前言

## 被淘汰数据的删除过程

一个完整的缓存淘汰机制需要解决两个问题：

- 确定淘汰哪些记录 —— **淘汰策略**
- 删除被淘汰的记录 —— **删除策略**

### 淘汰策略

缓存能使用的内存是有限的，当空间不足时，应该优先淘汰那些将来不再被访问的数据，保留那些将来还会频繁访问的数据。因此淘汰算法会围绕 **时间局部性** 原理进行设计，即：**如果一个数据正在被访问，那么在近期很可能会被再次访问**。

为了适应缓存读多写少的特点，实际应用中会使用哈希表来实现缓存。当需要实现某种特定的缓存淘汰策略时，需要引入额外的簿记 `book keeping` 结构。

下面回顾 3 种最常见的缓存淘汰策略。

## 参考文献

[Redis 的缓存淘汰机制（Eviction） - buttercup - 博客园 (cnblogs.com)](https://www.cnblogs.com/buttercup/p/13888110.html)
