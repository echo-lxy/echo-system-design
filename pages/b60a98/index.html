<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled | EchoDesign</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="ч│╗ч╗Яшо╛шобф╣ЛуАМшо▓шзг + щЭвшпХцМЗхНЧуАНя╝Мц░┤ц╗┤чЯ│чй┐я╝Мшо╛шобцЧащУ╢х╝╣я╝Б">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.c76c3453.css" as="style"><link rel="preload" href="/assets/js/app.59640afe.js" as="script"><link rel="preload" href="/assets/js/2.933750c6.js" as="script"><link rel="preload" href="/assets/js/28.6922a65b.js" as="script"><link rel="preload" href="/assets/js/7.7eb70372.js" as="script"><link rel="prefetch" href="/assets/js/10.2cc95be8.js"><link rel="prefetch" href="/assets/js/100.2b21dce5.js"><link rel="prefetch" href="/assets/js/101.96ca71f6.js"><link rel="prefetch" href="/assets/js/11.21625d3b.js"><link rel="prefetch" href="/assets/js/12.915fdd22.js"><link rel="prefetch" href="/assets/js/13.8ddd597e.js"><link rel="prefetch" href="/assets/js/14.1141ec27.js"><link rel="prefetch" href="/assets/js/15.d5a34c66.js"><link rel="prefetch" href="/assets/js/16.e52ba8b4.js"><link rel="prefetch" href="/assets/js/17.acb3bf3d.js"><link rel="prefetch" href="/assets/js/18.e491edb6.js"><link rel="prefetch" href="/assets/js/19.a22c1d8c.js"><link rel="prefetch" href="/assets/js/20.fe7d08c7.js"><link rel="prefetch" href="/assets/js/21.24c0f101.js"><link rel="prefetch" href="/assets/js/22.dd779f94.js"><link rel="prefetch" href="/assets/js/23.4d814163.js"><link rel="prefetch" href="/assets/js/24.891fe6fb.js"><link rel="prefetch" href="/assets/js/25.41dca26b.js"><link rel="prefetch" href="/assets/js/26.6337eac0.js"><link rel="prefetch" href="/assets/js/27.de80589e.js"><link rel="prefetch" href="/assets/js/29.7325b5ce.js"><link rel="prefetch" href="/assets/js/3.e62a71e4.js"><link rel="prefetch" href="/assets/js/30.e32f6b31.js"><link rel="prefetch" href="/assets/js/31.a532917f.js"><link rel="prefetch" href="/assets/js/32.13b70e91.js"><link rel="prefetch" href="/assets/js/33.d10d51bb.js"><link rel="prefetch" href="/assets/js/34.6671ead6.js"><link rel="prefetch" href="/assets/js/35.2760ed8d.js"><link rel="prefetch" href="/assets/js/36.5b9e5792.js"><link rel="prefetch" href="/assets/js/37.51145580.js"><link rel="prefetch" href="/assets/js/38.cddf1060.js"><link rel="prefetch" href="/assets/js/39.8a83e688.js"><link rel="prefetch" href="/assets/js/4.73518a0f.js"><link rel="prefetch" href="/assets/js/40.591baf2a.js"><link rel="prefetch" href="/assets/js/41.f961e422.js"><link rel="prefetch" href="/assets/js/42.b34f1599.js"><link rel="prefetch" href="/assets/js/43.5a509601.js"><link rel="prefetch" href="/assets/js/44.64fd3383.js"><link rel="prefetch" href="/assets/js/45.685623ac.js"><link rel="prefetch" href="/assets/js/46.7624d38c.js"><link rel="prefetch" href="/assets/js/47.5646b068.js"><link rel="prefetch" href="/assets/js/48.8de239a3.js"><link rel="prefetch" href="/assets/js/49.15d8e916.js"><link rel="prefetch" href="/assets/js/5.94727770.js"><link rel="prefetch" href="/assets/js/50.4fb0caa1.js"><link rel="prefetch" href="/assets/js/51.ef213b56.js"><link rel="prefetch" href="/assets/js/52.18c75eba.js"><link rel="prefetch" href="/assets/js/53.f76e624c.js"><link rel="prefetch" href="/assets/js/54.3098ec9f.js"><link rel="prefetch" href="/assets/js/55.0edcba5d.js"><link rel="prefetch" href="/assets/js/56.9df87e2e.js"><link rel="prefetch" href="/assets/js/57.be37bfce.js"><link rel="prefetch" href="/assets/js/58.ca1aa081.js"><link rel="prefetch" href="/assets/js/59.7b7e3faf.js"><link rel="prefetch" href="/assets/js/6.0b558b79.js"><link rel="prefetch" href="/assets/js/60.96815912.js"><link rel="prefetch" href="/assets/js/61.f48524d4.js"><link rel="prefetch" href="/assets/js/62.82fff0c9.js"><link rel="prefetch" href="/assets/js/63.41ff19e4.js"><link rel="prefetch" href="/assets/js/64.9b3def35.js"><link rel="prefetch" href="/assets/js/65.0b2ab47d.js"><link rel="prefetch" href="/assets/js/66.2ae7a107.js"><link rel="prefetch" href="/assets/js/67.196ec80b.js"><link rel="prefetch" href="/assets/js/68.cab1ea3b.js"><link rel="prefetch" href="/assets/js/69.5f61d937.js"><link rel="prefetch" href="/assets/js/70.7279b1df.js"><link rel="prefetch" href="/assets/js/71.4f744076.js"><link rel="prefetch" href="/assets/js/72.44c999da.js"><link rel="prefetch" href="/assets/js/73.526febf1.js"><link rel="prefetch" href="/assets/js/74.26f8d9a5.js"><link rel="prefetch" href="/assets/js/75.7c86d41a.js"><link rel="prefetch" href="/assets/js/76.15d5bea9.js"><link rel="prefetch" href="/assets/js/77.7b3f6980.js"><link rel="prefetch" href="/assets/js/78.31a353ef.js"><link rel="prefetch" href="/assets/js/79.173bbc8c.js"><link rel="prefetch" href="/assets/js/8.7a3679f1.js"><link rel="prefetch" href="/assets/js/80.78a31e84.js"><link rel="prefetch" href="/assets/js/81.8d6c43d2.js"><link rel="prefetch" href="/assets/js/82.3b90a7cc.js"><link rel="prefetch" href="/assets/js/83.f3a9ee0c.js"><link rel="prefetch" href="/assets/js/84.eeb423e8.js"><link rel="prefetch" href="/assets/js/85.4cd3a775.js"><link rel="prefetch" href="/assets/js/86.931cbb70.js"><link rel="prefetch" href="/assets/js/87.47ba635a.js"><link rel="prefetch" href="/assets/js/88.93192130.js"><link rel="prefetch" href="/assets/js/89.b5690031.js"><link rel="prefetch" href="/assets/js/9.36f81190.js"><link rel="prefetch" href="/assets/js/90.cdc8eb8f.js"><link rel="prefetch" href="/assets/js/91.87a85466.js"><link rel="prefetch" href="/assets/js/92.6b777d4b.js"><link rel="prefetch" href="/assets/js/93.f8975bc4.js"><link rel="prefetch" href="/assets/js/94.1eade7f0.js"><link rel="prefetch" href="/assets/js/95.96f5db04.js"><link rel="prefetch" href="/assets/js/96.fc68b295.js"><link rel="prefetch" href="/assets/js/97.0a9a6187.js"><link rel="prefetch" href="/assets/js/98.10f4b27a.js"><link rel="prefetch" href="/assets/js/99.4a895015.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c76c3453.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="чЫох╜Х" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="EchoDesign" class="logo"> <span class="site-name can-hide">EchoDesign</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">ЁЯПащжЦщб╡</a></div><div class="nav-item"><a href="/pages/fccd91/" class="nav-link">тЬТя╕ПчГнщЧичоЧц│Х</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ЁЯОЦя╕Пш╡ПцЮРч╗ПхЕ╕шо╛шоб" class="dropdown-title"><!----> <span class="title" style="display:;">ЁЯОЦя╕Пш╡ПцЮРч╗ПхЕ╕шо╛шоб</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/252196/" class="nav-link">Redis ч│╗ч╗Яшо╛шоб</a></li><li class="dropdown-item"><!----> <a href="/pages/b9733b/" class="nav-link">Kafka ч│╗ч╗Яшо╛шоб</a></li><li class="dropdown-item"><!----> <a href="/pages/bfab10/" class="nav-link">Netty ч│╗ч╗Яшо╛шоб</a></li><li class="dropdown-item"><!----> <a href="/pages/4601ca/" class="nav-link">Nginx ч│╗ч╗Яшо╛шоб</a></li></ul></div></div><div class="nav-item"><a href="/pages/84cb49/" class="nav-link">ЁЯзСтАНЁЯТ╗хоЮцИШч│╗ч╗Яшо╛шоб</a></div><div class="nav-item"><a href="/pages/92b2ee/" class="nav-link">тЭУщЧочнФ</a></div><div class="nav-item"><a href="/pages/52ebd8/" class="nav-link">ЁЯСАхКицАБ</a></div> <a href="https://github.com/echo-lxy/echo-system-design" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">ЁЯПащжЦщб╡</a></div><div class="nav-item"><a href="/pages/fccd91/" class="nav-link">тЬТя╕ПчГнщЧичоЧц│Х</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ЁЯОЦя╕Пш╡ПцЮРч╗ПхЕ╕шо╛шоб" class="dropdown-title"><!----> <span class="title" style="display:;">ЁЯОЦя╕Пш╡ПцЮРч╗ПхЕ╕шо╛шоб</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/252196/" class="nav-link">Redis ч│╗ч╗Яшо╛шоб</a></li><li class="dropdown-item"><!----> <a href="/pages/b9733b/" class="nav-link">Kafka ч│╗ч╗Яшо╛шоб</a></li><li class="dropdown-item"><!----> <a href="/pages/bfab10/" class="nav-link">Netty ч│╗ч╗Яшо╛шоб</a></li><li class="dropdown-item"><!----> <a href="/pages/4601ca/" class="nav-link">Nginx ч│╗ч╗Яшо╛шоб</a></li></ul></div></div><div class="nav-item"><a href="/pages/84cb49/" class="nav-link">ЁЯзСтАНЁЯТ╗хоЮцИШч│╗ч╗Яшо╛шоб</a></div><div class="nav-item"><a href="/pages/92b2ee/" class="nav-link">тЭУщЧочнФ</a></div><div class="nav-item"><a href="/pages/52ebd8/" class="nav-link">ЁЯСАхКицАБ</a></div> <a href="https://github.com/echo-lxy/echo-system-design" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ф╕АуАБхЙНшиА</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ф╕ЙуАБф╕╗ч║┐ф╗╗хКб</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/46a58a/" class="sidebar-link">Kafka цХ┤ф╜УцЮ╢цЮД</a></li><li><a href="/pages/bb1005/" class="sidebar-link">чФЯф║зшАЕ</a></li><li><a href="/pages/aa0392/" class="sidebar-link">Broker</a></li><li><a href="/pages/ca141b/" class="sidebar-link">ц╢Иш┤╣шАЕ</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>уАМчФЯф║зшАЕуАНц║РчаБхИЖцЮР</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>уАМц╢Иш┤╣шАЕуАНц║РчаБхИЖцЮР</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>уАМBrokerуАНхОЯчРЖхИЖцЮР</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/d9df7d/" class="sidebar-link">цОзхИ╢хЩи</a></li><li><a href="/pages/b60a98/" aria-current="page" class="active sidebar-link">Untitled</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/b60a98/#хЙНшиА" class="sidebar-link">хЙНшиА</a></li><li class="sidebar-sub-header level2"><a href="/pages/b60a98/#цжВш┐░" class="sidebar-link">цжВш┐░</a></li><li class="sidebar-sub-header level2"><a href="/pages/b60a98/#ц╢Иш┤╣шАЕхНПш░ГхЩи" class="sidebar-link">ц╢Иш┤╣шАЕхНПш░ГхЩи</a></li><li class="sidebar-sub-header level2"><a href="/pages/b60a98/#ч╗ДхНПш░ГхЩи" class="sidebar-link">ч╗ДхНПш░ГхЩи</a></li><li class="sidebar-sub-header level2"><a href="/pages/b60a98/#ц╢Иш┤╣хБПчз╗щЗПчобчРЖ" class="sidebar-link">ц╢Иш┤╣хБПчз╗щЗПчобчРЖ</a></li><li class="sidebar-sub-header level2"><a href="/pages/b60a98/#цА╗ч╗У" class="sidebar-link">цА╗ч╗У</a></li><li class="sidebar-sub-header level2"><a href="/pages/b60a98/#хПВшАГш╡ДцЦЩ" class="sidebar-link">хПВшАГш╡ДцЦЩ</a></li></ul></li><li><a href="/pages/b6cf91/" class="sidebar-link">цЧех┐ЧчобчРЖхЩи</a></li><li><a href="/pages/f57330/" class="sidebar-link">хЙпцЬмчобчРЖхЩи</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>хЫЫуАБшо╛шобчЫоцаЗ</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="щжЦщб╡" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>Kafka  ч│╗ч╗Яшо╛шоб</span></li><li data-v-06225672><span data-v-06225672>ф╕ЙуАБф╕╗ч║┐ф╗╗хКб</span></li><li data-v-06225672><span data-v-06225672>уАМBrokerуАНхОЯчРЖхИЖцЮР</span></li></ul> <div class="info" data-v-06225672><div title="ф╜ЬшАЕ" class="author iconfont icon-touxiang" data-v-06225672><a href="https://gitee.com/brother-one" target="_blank" title="ф╜ЬшАЕ" class="beLink" data-v-06225672>echo</a></div> <div title="хИЫх╗║цЧ╢щЧ┤" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2024-09-18</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">чЫох╜Х</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Untitled<!----></h1> <div class="page-slot page-slot-top">
    <div class="wwads-cn wwads-horizontal page-wwads" data-id="136"></div>
    <style>
      .page-wwads{
        width:100%!important;
        min-height: 0;
        margin: 0;
      }
      .page-wwads .wwads-img img{
        width:80px!important;
      }
      .page-wwads .wwads-poweredby{
        width: 40px;
        position: absolute;
        right: 25px;
        bottom: 3px;
      }
      .wwads-content .wwads-text, .page-wwads .wwads-text{
        height: 100%;
        padding-top: 5px;
        display: block;
      }
  </style>
  </div> <div class="theme-vdoing-content content__default"><h2 id="хЙНшиА"><a href="#хЙНшиА" class="header-anchor">#</a> хЙНшиА</h2> <p>ф╕Кф╕АшКВф╗Лч╗Нф║Жkafkaх╖еф╜ЬчЪДца╕х┐Гч╗Дф╗╢--цОзхИ╢хЩиуАВцЬмшКВх░Жф╗Лч╗Нц╢Иш┤╣шАЕхпЖхИЗчЫ╕хЕ│чЪДч╗Дф╗╢--хНПш░ГхЩиуАВхоГш┤Яш┤гц╢Иш┤╣шАЕчЪДхЗ║хЕеч╗Дх╖еф╜ЬуАВхдзхо╢хПпф╗ехЫЮцГ│ф╕Аф╕Лkafkaца╕х┐ГцжВх┐╡ф╕нхЕ│ф║ОхРГшЛ╣цЮЬчЪДхЬ║цЩпя╝МхжВцЮЬцИСщВАшп╖ф║Ж100ф╕кф║║ш┐ЗцЭехРГшЛ╣цЮЬя╝МхжВцЮЬц▓бцЬЙф║║хСКшпЙцпПф╕кхРГшЛ╣цЮЬчЪДф║║хУкф╕кцШпф╗ЦчЪДчЫШхнРя╝МщВгх▓Вф╕НцШпшжБф╣▒ф║ЖхеЧя╝ЯхНПш░ГхЩихБЪчЪДх░▒цШпш┐Щф╕кх╖еф╜ЬуАВх╜УчД╢ш┐ШцЬЙцЫ┤хдЪуАВ</p> <h2 id="цжВш┐░"><a href="#цжВш┐░" class="header-anchor">#</a> цжВш┐░</h2> <p>щб╛хРНцАЭф╣Йя╝МхНПш░ГхЩиш┤Яш┤гхНПш░Гх╖еф╜ЬуАВцЬмшКВцЙАшо▓чЪДхНПш░ГхЩия╝МцШпчФицЭехНПш░Гц╢Иш┤╣шАЕх╖еф╜ЬхИЖщЕНчЪДуАВчоАхНХчВ╣шп┤я╝Мх░▒цШпц╢Иш┤╣шАЕхРпхКихРОя╝МхИ░хПпф╗ецнгх╕╕ц╢Иш┤╣хЙНя╝Мш┐Щф╕кщШ╢цо╡чЪДхИЭхзЛхМЦх╖еф╜ЬуАВц╢Иш┤╣шАЕшГ╜хдЯцнгх╕╕ш┐Рш╜мш╡╖цЭея╝МхЕицЬЙш╡Цф║ОхНПш░ГхЩиуАВ</p> <p>ф╕╗шжБчЪДхНПш░ГхЩицЬЙхжВф╕Лф╕дф╕кя╝Ъ</p> <p>1уАБц╢Иш┤╣шАЕхНПш░ГхЩия╝ИConsumerCoordinatorя╝Й</p> <p>2уАБч╗ДхНПш░ГхЩия╝ИGroupCoordinatorя╝Й</p> <p>цндхдЦш┐ШцЬЙф╗╗хКбчобчРЖхНПш░ГхЩия╝ИWorkCoordinatorя╝Йя╝МчФиф╜Ьkafka connectчЪДworksчобчРЖя╝МцЬмцХЩчиЛф╕НхБЪшо▓шзгуАВ</p> <p>kafkaх╝ХхЕехНПш░ГхЩицЬЙхЕ╢хОЖхП▓ш┐ЗчиЛя╝МхОЯцЭеconsumerф┐бцБпф╛Эш╡Цф║ОzookeeperхнШхВия╝Мх╜Уф╗гчРЖцИЦц╢Иш┤╣шАЕхПСчФЯхПШхМЦцЧ╢я╝Мх╝ХхПСц╢Иш┤╣шАЕх╣│шббя╝МцндцЧ╢ц╢Иш┤╣шАЕф╣ЛщЧ┤цШпф║Тф╕НщАПцШОчЪДя╝МцпПф╕кц╢Иш┤╣шАЕхТМzookeeperхНХчЛмщАЪф┐бя╝Мхо╣цШУщАацИРч╛Кч╛дцХИх║ФхТМшДСшгВщЧощвШуАВ</p> <p>ф╕║ф║ЖшзгхЖ│ш┐Щф║ЫщЧощвШя╝Мkafkaх╝ХхЕеф║ЖхНПш░ГхЩиуАВцЬНхКбчлпх╝ХхЕеч╗ДхНПш░ГхЩия╝ИGroupCoordinatorя╝Йя╝Мц╢Иш┤╣шАЕчлпх╝ХхЕец╢Иш┤╣шАЕхНПш░ГхЩия╝ИConsumerCoordinatorя╝ЙуАВцпПф╕кbrokerхРпхКичЪДцЧ╢хАЩя╝МщГ╜ф╝ЪхИЫх╗║GroupCoordinatorхоЮф╛Ля╝МчобчРЖщГихИЖц╢Иш┤╣ч╗Дя╝ИщЫЖч╛дш┤Яш╜╜хЭЗшббя╝ЙхТМч╗Дф╕ЛцпПф╕кц╢Иш┤╣шАЕц╢Иш┤╣чЪДхБПчз╗щЗПя╝Иoffsetя╝ЙуАВцпПф╕кconsumerхоЮф╛ЛхМЦцЧ╢я╝МхРМцЧ╢хоЮф╛ЛхМЦф╕Аф╕кConsumerCoordinatorхп╣ш▒бя╝Мш┤Яш┤гхРМф╕Аф╕кц╢Иш┤╣ч╗Дф╕ЛхРДф╕кц╢Иш┤╣шАЕхТМцЬНхКбчлпч╗ДхНПш░ГхЩиф╣ЛхЙНчЪДщАЪф┐буАВхжВф╕ЛхЫ╛я╝Ъ</p> <p><img src="https://echo798.oss-cn-shenzhen.aliyuncs.com/img/202409181807747.png" alt="image-20240918180724667"></p> <h2 id="ц╢Иш┤╣шАЕхНПш░ГхЩи"><a href="#ц╢Иш┤╣шАЕхНПш░ГхЩи" class="header-anchor">#</a> ц╢Иш┤╣шАЕхНПш░ГхЩи</h2> <p>ц╢Иш┤╣шАЕхНПш░ГхЩия╝МхПпф╗ечЬЛф╜ЬцШпц╢Иш┤╣шАЕхБЪцУНф╜ЬчЪДф╗гчРЖч▒╗я╝ИхЕ╢хоЮх╣╢ф╕НцШпя╝Йя╝Мц╢Иш┤╣шАЕх╛ИхдЪцУНф╜ЬщАЪш┐Зц╢Иш┤╣шАЕхНПш░ГхЩиш┐ЫшбМхдДчРЖуАВ</p> <p>ц╢Иш┤╣шАЕхНПш░ГхЩиф╕╗шжБш┤Яш┤гхжВф╕Лх╖еф╜Ья╝Ъ</p> <p>1уАБцЫ┤цЦ░ц╢Иш┤╣шАЕч╝УхнШчЪДMetaData</p> <p>2уАБхРСч╗ДхНПш░ГхЩичФ│шп╖хКахЕеч╗Д</p> <p>3уАБц╢Иш┤╣шАЕхКахЕеч╗ДхРОчЪДчЫ╕х║ФхдДчРЖ</p> <p>4уАБшп╖ц▒Вчж╗х╝Ац╢Иш┤╣ч╗Д</p> <p>5уАБхРСч╗ДхНПш░ГхЩицПРф║дхБПчз╗щЗП</p> <p>6уАБщАЪш┐Зх┐Гш╖│я╝Мф┐ЭцМБч╗ДхНПш░ГхЩичЪДш┐ЮцОецДЯчЯеуАВ</p> <p>7уАБшвлч╗ДхНПш░ГхЩищАЙф╕║leaderчЪДц╢Иш┤╣шАЕчЪДхНПш░ГхЩия╝Мш┤Яш┤гц╢Иш┤╣шАЕхИЖхМ║хИЖщЕНуАВхИЖщЕНч╗УцЮЬхПСщАБч╗Щч╗ДхНПш░ГхЩиуАВ</p> <p>8уАБщЭЮleaderчЪДц╢Иш┤╣шАЕя╝МщАЪш┐Зц╢Иш┤╣шАЕхНПш░ГхЩихТМч╗ДхНПш░ГхЩихРМцнехИЖщЕНч╗УцЮЬуАВ</p> <p>ц╢Иш┤╣шАЕхНПш░ГхЩиф╕╗шжБф╛Эш╡ЦчЪДч╗Дф╗╢хТМшп┤цШОшзБф╕ЛхЫ╛я╝Ъ</p> <p><img src="https://echo798.oss-cn-shenzhen.aliyuncs.com/img/202409181808671.jpeg" alt="consumerCoordinator.jpeg"></p> <p>хПпф╗ечЬЛхИ░ш┐Щф║Ыч╗Дф╗╢хТМц╢Иш┤╣шАЕхНПш░ГхЩицЛЕш┤ЯчЪДх╖еф╜ЬцШпхПпф╗ехп╣чЕзф╕КчЪДуАВ</p> <h2 id="ч╗ДхНПш░ГхЩи"><a href="#ч╗ДхНПш░ГхЩи" class="header-anchor">#</a> ч╗ДхНПш░ГхЩи</h2> <p>ч╗ДхНПш░ГхЩиш┤Яш┤гхдДчРЖц╢Иш┤╣шАЕхНПш░ГхЩихПСш┐ЗцЭечЪДхРДчзНшп╖ц▒ВуАВхоГф╕╗шжБцПРф╛ЫхжВф╕ЛхКЯшГ╜я╝Ъ</p> <p>хЬиф╕Оф╣Лш┐ЮцОечЪДц╢Иш┤╣шАЕф╕нщАЙф╕╛хЗ║ц╢Иш┤╣шАЕleader ф╕ЛхПСleaderц╢Иш┤╣шАЕш┐ФхЫЮчЪДц╢Иш┤╣шАЕхИЖхМ║хИЖщЕНч╗УцЮЬч╗ЩцЙАцЬЙчЪДц╢Иш┤╣шАЕ чобчРЖц╢Иш┤╣шАЕчЪДц╢Иш┤╣хБПчз╗щЗПцПРф║дя╝Мф┐ЭхнШхЬиkafkaчЪДхЖЕщГиф╕╗щвШф╕н хТМц╢Иш┤╣шАЕх┐Гш╖│ф┐ЭцМБя╝МчЯещБУхУкф║Ыц╢Иш┤╣шАЕх╖▓ч╗Пцн╗цОЙя╝Мч╗Дф╕нхнШц┤╗чЪДц╢Иш┤╣шАЕцШпхУкф║ЫуАВ ч╗ДхНПш░ГхЩихЬиbrokerхРпхКичЪДцЧ╢хАЩхоЮф╛ЛхМЦя╝МцпПф╕кч╗ДхНПш░ГхЩиш┤Яш┤гф╕АщГихИЖц╢Иш┤╣ч╗ДчЪДчобчРЖуАВхоГф╕╗шжБф╛Эш╡ЦчЪДч╗Дф╗╢шзБф╕ЛхЫ╛я╝Ъ</p> <p><img src="https://echo798.oss-cn-shenzhen.aliyuncs.com/img/202409181808705.jpeg" alt="groupCoordinator2.jpeg"></p> <p>ш┐Щф║Ыч╗Дф╗╢ф╣ЯцШпхТМч╗ДхНПш░ГхЩичЪДхКЯшГ╜шГ╜хдЯхп╣х║Фф╕КчЪДуАВхЕ╖ф╜УхЖЕхо╣ф╕НхЬишпжш┐░уАВ</p> <p>2.3 ц╢Иш┤╣шАЕхЕеч╗Дш┐ЗчиЛ ф╕ЛхЫ╛х▒Хчд║ф║Жц╢Иш┤╣шАЕхРпхКищАЙхПЦleaderуАБхЕеч╗ДчЪДш┐ЗчиЛуАВ</p> <p><img src="https://echo798.oss-cn-shenzhen.aliyuncs.com/img/202409181808730.jpeg" alt="consumerJoinGroup.jpeg"></p> <p>ц╢Иш┤╣шАЕхЕеч╗ДчЪДш┐ЗчиЛя╝Мх╛Ихе╜чЪДх▒Хчд║ф║Жц╢Иш┤╣шАЕхНПш░ГхЩихТМч╗ДхНПш░ГхЩиф╣ЛщЧ┤цШпхжВф╜ХщЕНхРИх╖еф╜ЬчЪДуАВleader consumerф╝ЪцЙ┐цЛЕхИЖхМ║хИЖщЕНчЪДх╖еф╜Ья╝Мш┐Щца╖kafkaщЫЖч╛дчЪДхОЛхКЫф╝Ъх░Пх╛ИхдЪуАВхРМч╗ДчЪДconsumerщАЪш┐Зч╗ДхНПш░ГхЩиф┐ЭцМБхРМцнеуАВц╢Иш┤╣шАЕхТМхИЖхМ║чЪДхп╣х║ФхЕ│ч│╗цМБф╣ЕхМЦхЬиkafkaхЖЕщГиф╕╗щвШуАВ</p> <h2 id="ц╢Иш┤╣хБПчз╗щЗПчобчРЖ"><a href="#ц╢Иш┤╣хБПчз╗щЗПчобчРЖ" class="header-anchor">#</a> ц╢Иш┤╣хБПчз╗щЗПчобчРЖ</h2> <p>ц╢Иш┤╣шАЕц╢Иш┤╣цЧ╢я╝Мф╝ЪхЬицЬмхЬ░ч╗┤цКдц╢Иш┤╣хИ░чЪДф╜Нч╜оя╝Иoffsetя╝Йя╝Мх░▒цШпхБПчз╗щЗПя╝Мш┐Щца╖ф╕Лцмбц╢Иш┤╣цЙНчЯещБУф╗ОхУкщЗМх╝АхзЛц╢Иш┤╣уАВхжВцЮЬцХ┤ф╕кчОпхвГц▓бцЬЙхПШхМЦя╝Мш┐Щца╖хБЪх░▒ш╢│хдЯф║ЖуАВф╜Жф╕АцЧжц╢Иш┤╣шАЕх╣│шббцУНф╜ЬцИЦшАЕхИЖхМ║хПШхМЦхРОя╝Мц╢Иш┤╣шАЕф╕НхЖНхп╣х║ФхОЯцЭечЪДхИЖхМ║я╝МшАМцпПф╕кц╢Иш┤╣шАЕчЪДoffsetф╣Яц▓бцЬЙхРМцнехИ░цЬНхКбхЩия╝Мш┐Щца╖х░▒цЧац│ХцОечЭАхЙНф╗╗чЪДх╖еф╜Ьч╗зч╗нш┐ЫшбМф║ЖуАВ</p> <p>хЫацндхПкцЬЙцККц╢Иш┤╣хБПчз╗щЗПхоЪцЬЯхПСщАБхИ░цЬНхКбхЩия╝МчФ▒GroupCoordinatorщЫЖф╕нх╝ПчобчРЖя╝МхИЖхМ║щЗНхИЖщЕНхРОя╝МхРДф╕кц╢Иш┤╣шАЕф╗ОGroupCoordinatorшп╗хПЦшЗкх╖▒хп╣х║ФхИЖхМ║чЪДoffsetя╝МхЬицЦ░чЪДхИЖхМ║ф╕Кч╗зч╗нхЙНф╗╗чЪДх╖еф╜ЬуАВ</p> <p>ф╕ЛхЫ╛х▒Хчд║ф║Жф╕НцПРф║дoffsetхИ░цЬНхКбчлпчЪДщЧощвШя╝Ъ</p> <p><img src="https://echo798.oss-cn-shenzhen.aliyuncs.com/img/202409181808649.jpeg" alt="offset.jpeg"></p> <p>х╝АхзЛцЧ╢я╝Мconsumer 0ц╢Иш┤╣partition 0 хТМ1я╝МхРОцЭечФ▒ф║ОцЦ░чЪДconsumer 2хЕеч╗Дя╝МхИЖхМ║щЗНцЦ░ш┐ЫшбМф║ЖхИЖщЕНуАВconsumer 0ф╕НхЖНц╢Иш┤╣partition2я╝МшАМчФ▒consumer 2цЭец╢Иш┤╣partition 2я╝Мф╜ЖчФ▒ф║Оconsumerф╣ЛщЧ┤цШпф╕НшГ╜щАЪшопчЪДя╝МцЙАцЬЙconsumer2х╣╢ф╕НчЯещБУф╗ОхУкщЗМх╝АхзЛшЗкх╖▒чЪДц╢Иш┤╣уАВ</p> <p>хЫацндconsumerщЬАшжБхоЪцЬЯцПРф║дшЗкх╖▒ц╢Иш┤╣чЪДoffsetхИ░цЬНхКбчлпя╝Мш┐Щца╖хЬищЗНхИЖхМ║цУНф╜ЬхРОя╝МцпПф╕кconsumerщГ╜шГ╜хЬицЬНхКбчлпцЯехИ░хИЖщЕНч╗ЩшЗкх╖▒чЪДpartitionцЙАц╢Иш┤╣хИ░чЪДoffsetя╝Мч╗зч╗нц╢Иш┤╣уАВ</p> <p>чФ▒ф║ОkafkaцЬЙщлШхПпчФихТМцикхРСцЙйх▒ХчЪДчЙ╣цАзя╝Мх╜УцЬЙцЦ░чЪДхИЖхМ║хЗ║чО░цИЦшАЕцЦ░чЪДц╢Иш┤╣хЕеч╗ДхРОя╝МщЬАшжБщЗНцЦ░хИЖщЕНц╢Иш┤╣шАЕхп╣х║ФчЪДхИЖхМ║я╝МцЙАф╗ехжВцЮЬхБПчз╗щЗПцПРф║дчЪДцЬЙщЧощвШя╝Мф╝ЪщЗНхдНц╢Иш┤╣цИЦшАЕф╕вц╢ИцБпуАВхБПчз╗щЗПцПРф║дчЪДцЧ╢цЬ║хТМцЦ╣х╝ПшжБца╝хдЦц│ицДПя╝Бя╝Б</p> <p>ф╕ЛщЭвф╕дчзНцГЕхЖ╡хИЖхИлф╝ЪщАацИРщЗНхдНц╢Иш┤╣хТМф╕вц╢ИцБпя╝Ъ</p> <p>хжВцЮЬцПРф║дчЪДхБПчз╗щЗПх░Пф║Оц╢Иш┤╣шАЕцЬАхРОф╕Ацмбц╢Иш┤╣чЪДхБПчз╗щЗПя╝МщВгф╣ИхЖНхЭЗшббхРОя╝Мф╕дф╕кoffsetф╣ЛщЧ┤чЪДц╢ИцБпх░▒ф╝ЪшвлщЗНхдНц╢Иш┤╣ хжВцЮЬцПРф║дчЪДхБПчз╗щЗПхдзф║Оц╢Иш┤╣шАЕцЬАхРОф╕Ацмбц╢Иш┤╣чЪДхБПчз╗щЗПя╝МщВгф╣ИхЖНхЭЗшббхРОя╝Мф╕дф╕кoffsetф╣ЛщЧ┤чЪДц╢ИцБпх░▒ф╝Ъф╕вхд▒ ф╗еф╕Кф╕дчзНцГЕхЖ╡цШпхжВф╜Хф║зчФЯчЪДхСвя╝ЯцИСф╗мч╗зч╗нх╛Аф╕ЛчЬЛуАВ</p> <h3 id="хБПчз╗щЗПцЬЙф╕дчзНцПРф║дцЦ╣х╝П"><a href="#хБПчз╗щЗПцЬЙф╕дчзНцПРф║дцЦ╣х╝П" class="header-anchor">#</a> хБПчз╗щЗПцЬЙф╕дчзНцПРф║дцЦ╣х╝П</h3> <h4 id="_1уАБшЗкхКицПРф║дхБПчз╗щЗП"><a href="#_1уАБшЗкхКицПРф║дхБПчз╗щЗП" class="header-anchor">#</a> <strong>1уАБшЗкхКицПРф║дхБПчз╗щЗП</strong></h4> <p>шо╛ч╜о enable.auto.commitф╕║trueя╝Мшо╛хоЪхе╜хСицЬЯя╝Мщ╗Шшод5sуАВц╢Иш┤╣шАЕцпПцмбш░ГчФиш╜ошпвц╢ИцБпчЪДpoll() цЦ╣ц│ХцЧ╢я╝Мф╝ЪцгАцЯецШпхРжш╢Еш┐Зф║Ж5sц▓бцЬЙцПРф║дхБПчз╗щЗПя╝МхжВцЮЬцШпя╝МцПРф║дф╕Кф╕Ацмбш╜ошпвш┐ФхЫЮчЪДхБПчз╗щЗПуАВ</p> <p>ш┐Щца╖хБЪх╛ИцЦ╣ф╛┐я╝Мф╜ЖцШпф╝Ъх╕жцЭещЗНхдНц╢Иш┤╣чЪДщЧощвШуАВхБЗхжВцЬАш┐Сф╕АцмбхБПчз╗щЗПцПРф║д3sхРОя╝МшзжхПСф║ЖхЖНхЭЗшббя╝МцЬНхКбхЩичлпхнШхВичЪДш┐ШцШпф╕КцмбцПРф║дчЪДхБПчз╗щЗПя╝МщВгф╣ИхЖНхЭЗшббч╗УцЭЯхРОя╝МцЦ░чЪДц╢Иш┤╣шАЕф╝Ъф╗ОцЬАхРОф╕АцмбцПРф║дчЪДхБПчз╗щЗПх╝АхзЛцЛЙхПЦц╢ИцБпя╝Мцнд3sхЖЕц╢Иш┤╣чЪДц╢ИцБпф╝ЪшвлщЗНхдНц╢Иш┤╣уАВ</p> <h4 id="_2уАБцЙЛхКицПРф║дхБПчз╗щЗП"><a href="#_2уАБцЙЛхКицПРф║дхБПчз╗щЗП" class="header-anchor">#</a> <strong>2уАБцЙЛхКицПРф║дхБПчз╗щЗП</strong></h4> <p>шо╛ч╜о enable.auto.commitф╕║falseуАВчиЛх║Пф╕нцЙЛхКиш░ГчФиcommitSync()цПРф║дхБПчз╗щЗПя╝МцндцЧ╢цПРф║дчЪДцШпpollцЦ╣ц│Хш┐ФхЫЮчЪДцЬАцЦ░чЪДхБПчз╗щЗПуАВ</p> <p>цИСф╗мцЭечЬЛф╕ЛщЭвф╕дф╕кцПРф║дцЧ╢цЬ║я╝Ъ</p> <ol><li>хжВцЮЬpollхоМщймф╕Кш░ГчФиcommitSync(),щВгф╣Иф╕АцЧжхдДчРЖхИ░ф╕нщЧ┤цЯРцЭбц╢ИцБпчЪДцЧ╢хАЩх╝Вх╕╕я╝МчФ▒ф║ОхБПчз╗щЗПх╖▓ч╗ПцПРф║дя╝МщВгф╣ИхЗ║щЧощвШчЪДц╢ИцБпф╜Нч╜охИ░цПРф║дхБПчз╗щЗПф╣ЛщЧ┤чЪДц╢ИцБпх░▒ф╝Ъф╕вхд▒уАВ</li></ol> <p><img src="https://echo798.oss-cn-shenzhen.aliyuncs.com/img/202409181808513.jpeg" alt="offsetcommit.jpeg"></p> <ol><li>хжВцЮЬхдДчРЖхоМцЙАцЬЙц╢ИцБпхРОцЙНш░ГчФиcommitSync()уАВцЬЙхПпшГ╜хЬихдДчРЖхИ░ф╕АхНКчЪДцЧ╢хАЩхПСчФЯхЖНхЭЗшббя╝МцндцЧ╢хБПчз╗щЗПш┐ШцЬкцПРф║дя╝МщВгф╣ИхЖНхЭЗшббхРОя╝Мф╝Ъф╗Оф╕КцмбцПРф║дчЪДф╜Нч╜ох╝АхзЛц╢Иш┤╣я╝МщАацИРщЗНхдНц╢Иш┤╣уАВ</li></ol> <p><img src="https://echo798.oss-cn-shenzhen.aliyuncs.com/img/202409181808686.jpeg" alt="offsetcommit2.jpeg"></p> <p>цпФш╛Гш╡╖цЭея╝МщЗНхдНц╢Иш┤╣шжБцпФф╕вц╢ИцБпхе╜ф╕Аф║Ыя╝МцЙАф╗ецИСф╗мчиЛх║Пх║ФщЗЗчФичммф║МчзНцЦ╣х╝Пя╝МхРМцЧ╢ц╢Иш┤╣щА╗ш╛Сф╕ня╝МшжБшГ╜хдЯцгАцЯещЗНхдНц╢Иш┤╣уАВ</p> <p>commitSync()цШпхРМцнецПРф║дхБПчз╗щЗПя╝Мф╕╗чиЛх║Пф╝Ъф╕АчЫ┤щШ╗хбЮя╝МхБПчз╗щЗПцПРф║дцИРхКЯхРОцЙНх╛Аф╕Лш┐РшбМуАВш┐Щца╖ф╝ЪщЩРхИ╢чиЛх║ПчЪДхРЮхРРщЗПуАВхжВцЮЬщЩНф╜ОцПРф║дщвСцмбя╝МхПИх╛Ихо╣цШУхПСчФЯщЗНхдНц╢Иш┤╣уАВ</p> <p>ш┐ЩщЗМцИСф╗мхПпф╗еф╜┐чФиcommitAsync()х╝ВцнецПРф║дхБПчз╗щЗПуАВхПкчобцПРф║дя╝МшАМф╕Нф╝ЪчнЙх╛Еbrokerш┐ФхЫЮцПРф║дч╗УцЮЬ</p> <p>commitSyncхПкшжБц▓бцЬЙхПСчФЯф╕НхПпцБвхдНщФЩшппя╝Мф╝Ъш┐ЫшбМщЗНшпХя╝МчЫ┤хИ░цИРхКЯуАВшАМcommitAsyncф╕Нф╝Ъш┐ЫшбМщЗНшпХя╝Мхд▒ш┤ех░▒цШпхд▒ш┤еф║ЖуАВcommitAsyncф╕НщЗНшпХя╝МцШпхЫаф╕║щЗНшпХцПРф║дцЧ╢я╝МхПпшГ╜х╖▓ч╗ПцЬЙхЕ╢хоГцЫ┤хдзхБПчз╗щЗПх╖▓ч╗ПцПРф║дцИРхКЯф║Жя╝МхжВцЮЬцндцЧ╢щЗНшпХцПРф║дцИРхКЯя╝МщВгф╣ИцЫ┤х░ПчЪДхБПчз╗щЗПф╝ЪшжЖчЫЦхдзчЪДхБПчз╗щЗПуАВщВгф╣ИхжВцЮЬцндцЧ╢хПСчФЯхЖНхЭЗшббя╝МцЦ░чЪДц╢Иш┤╣шАЕх░Жф╝ЪщЗНхдНц╢Иш┤╣ц╢ИцБпуАВ</p> <p>commitAsyncф╣ЯцФпцМБхЫЮш░Гя╝МчФ▒ф║Оф╕Кш┐░хОЯхЫая╝МхЫЮш░Гф╕нцЬАхе╜ф╕НшжБхЫаф╕║хд▒ш┤ешАМщЗНшпХцПРф║дуАВшАМцШпх║Фшпешо░х╜ХщФЩшппя╝Мф╗еф╛┐хРОч╗нхИЖцЮРхТМшбехБ┐уАВ</p> <h5 id="хБПчз╗щЗПцПРф║дчЪДцЬАф╜│хоЮш╖╡"><a href="#хБПчз╗щЗПцПРф║дчЪДцЬАф╜│хоЮш╖╡" class="header-anchor">#</a> хБПчз╗щЗПцПРф║дчЪДцЬАф╜│хоЮш╖╡</h5> <p>хЕ│ф║ОхБПчз╗щЗПчЪДцПРф║дцЦ╣х╝ПхТМцЧ╢цЬ║я╝Мф╕КцЦЗх╖▓ч╗ПцЬЙф║ЖхдзщЗПчЪДшо▓шзгуАВф╜ЖчЬЛхоМхРОхе╜хГПш┐Шф╕НчЯещБУх║ФшпецАОф╣ИцПРф║дхБПчз╗щЗПцЙНцШпцЬАхРИщАВчЪДуАВцШпф╕НцШпшзЙх╛ЧцЧашо║цАОф╣ИцПРф║дя╝МщГ╜цЧац│ХщБ┐хЕНщЗНхдНц╢Иш┤╣я╝Яц▓бщФЩя╝Мф║ЛхоЮх░▒цШпш┐Щца╖я╝МцИСф╗мхПкшГ╜щЗЗчФихРИчРЖчЪДцЦ╣х╝Пя╝МцЬАхдзхПпшГ╜чЪДхО╗щЩНф╜ОхПСчФЯцндч▒╗щЧощвШчЪДцжВчОЗуАВцндхдЦхБЪхе╜шбехБ┐хдДчРЖуАВ</p> <p>ф╕АшИмцЭешп┤я╝МхБ╢х░ФчЪДцПРф║дхд▒ш┤ея╝Мф╕НхО╗щЗНшпХя╝МцШпц▓бцЬЙщЧощвШчЪДуАВхЫаф╕║ф╕АшИмцШпхЫаф╕║ф╕┤цЧ╢чЪДщЧощвШшАМхд▒ш┤ея╝МхРОч╗нчЪДцПРф║дцА╗ф╝ЪцИРхКЯуАВхжВцЮЬцИСф╗мхЬихЕ│щЧнц╢Иш┤╣шАЕцИЦшАЕхЖНхЭЗшббхЙНя╝Мчбоф┐ЭцЙАцЬЙчЪДц╢Иш┤╣шАЕщГ╜шГ╜цИРхКЯцПРф║дф╕АцмбхБПчз╗щЗПя╝Мф╣ЯхПпф╗еф┐ЭшпБхЖНхЭЗшббхРОя╝Мц╢Иш┤╣шАЕшГ╜цОечЭАц╢Иш┤╣цХ░цНоуАВ</p> <p>хЫацндцИСф╗мщЗЗчФихРМцнехТМх╝Вцнец╖╖хРИчЪДцЦ╣х╝ПцПРф║дхБПчз╗щЗПуАВ</p> <ol><li>цнгх╕╕ц╢Иш┤╣ц╢ИцБпцЧ╢я╝Мц╢Иш┤╣ч╗УцЭЯцПРф║дхБПчз╗щЗПя╝МщЗЗчФих╝ВцнецЦ╣х╝П</li> <li>хжВцЮЬчиЛх║ПцКещФЩя╝Мfinallyф╕ня╝МцПРф║дхБПчз╗щЗПя╝МщЗЗчФихРМцнецЦ╣х╝Пя╝Мчбоф┐ЭцПРф║дцИРхКЯ</li> <li>хЖНхЭЗшббхЙНчЪДхЫЮш░ГцЦ╣ц│Хф╕ня╝МцПРф║дхБПчз╗щЗПя╝МщЗЗчФихРМцнецЦ╣х╝Пя╝Мчбоф┐ЭцПРф║дцИРхКЯ</li></ol> <p>ш┐Щца╖цЧвф┐ЭшпБф║ЖхРЮхРРщЗПя╝Мф╣Яф┐ЭшпБф║ЖцПРф║дхБПчз╗щЗПчЪДхоЙхЕицАзуАВхПжхдЦчФ▒ф║ОхЖНхЭЗшббхЙНцПРф║дхБПчз╗щЗПя╝МщЩНф╜Оф║ЖщЗНхдНц╢Иш┤╣хПпшГ╜уАВ</p> <p>kafkaш┐ШцПРф╛Ыф║ЖцПРф║дчЙ╣хоЪхБПчз╗щЗПчЪДцЦ╣ц│ХуАВцИСф╗мхПпф╗ецМЗхоЪхИЖхМ║хТМoffsetш┐ЫшбМцПРф║дуАВхИЖхМ║хТМoffsetчЪДхА╝хПпф╗еф╗Оц╢ИцБпхп╣ш▒бф╕нхПЦх╛ЧуАВ</p> <p>хПжхдЦя╝МхжВцЮЬцЛЕх┐Гф╕АцмбхПЦхЫЮцХ░цНощЗПхдкхдзя╝МхПпшГ╜хдДчРЖхИ░ф╕АхНКчЪДцЧ╢хАЩхЗ║чО░хЖНхЭЗшббя╝Мхп╝шЗ┤хБПчз╗щЗПц▓бцЬЙцПРф║дя╝МщЗНхдНц╢Иш┤╣уАВщВгф╣ИхПпф╗ецпПnцЭбцПРф║дф╕АцмбуАВ</p> <p>шАМх╜Уn=1цЧ╢я╝Мф╣Ях░▒цШпхдДчРЖф╕АцЭбцХ░цНох░▒цПРф║дф╕Ацмбя╝Мф╝ЪцККщЗНхдНц╢Иш┤╣чЪДхПпшГ╜щЩНхИ░цЬАф╜ОуАВхРМцЧ╢чФ▒ф║ОхвЮхКаф║ЖхТМцЬНхКбчлпчЪДщАЪшопя╝МцХИчОЗхдзхдзщЩНф╜ОуАВ</p> <p>хЕ╢хоЮхН│ф╜┐ш┐Щца╖я╝Мф╣ЯцШпхПпшГ╜щЗНхдНц╢Иш┤╣чЪДя╝МшпХцГ│хжВф╕ЛхЬ║цЩпя╝Ъ</p> <p>ц╢Иш┤╣шАЕцЛЙхПЦхИ░цХ░цНохРОя╝Мх╝АхзЛщА╗ш╛СхдДчРЖ хдДчРЖчммф╕АцЭбoffset=2я╝МцИРхКЯф║Жя╝МцПРф║дoffset=3 х╝АхзЛхдДчРЖoffset=3чЪДц╢ИцБпя╝МхдДчРЖхоМцИРхРОя╝Мф╜ЖцПРф║дoffset=4хЙНя╝Мцндц╢Иш┤╣шАЕчкБчД╢цДПхдЦцМВцОЙф║Жя╝МцЙАф╗еф╣Яц▓бшГ╜ш┐ЫхЕех╝Вх╕╕хдДчРЖуАВхБПчз╗щЗПц▓бшГ╜цИРхКЯцПРф║дуАВ ц╢Иш┤╣шАЕш┐ЫшбМф║ЖхЖНхЭЗшббя╝МцЦ░чЪДц╢Иш┤╣шАЕцОецЙЛцндхИЖхМ║ш┐ЫшбМц╢Иш┤╣я╝МхПЦхИ░чЪДoffsetш┐ШцШпф╕Кф╕АцмбцПРф║дчЪД3я╝МщВгф╣Их░Жф╝ЪщЗНхдНц╢Иш┤╣offset=3чЪДц╢ИцБпуАВ цЙАф╗ецИСф╗мх║Фх╣│шббщЗНхдНц╢Иш┤╣хПСчФЯчЪДцжВчОЗхТМчиЛх║ПчЪДцХИчОЗя╝МцЭешо╛ч╜оцПРф║дчЪДцЧ╢цЬ║уАВхРМцЧ╢чиЛх║ПщА╗ш╛Сф╕АхоЪхБЪхе╜щЗНхдНц╢Иш┤╣чЪДцгАцЯех╖еф╜Ья╝Б</p> <h2 id="цА╗ч╗У"><a href="#цА╗ч╗У" class="header-anchor">#</a> цА╗ч╗У</h2> <p>цЬмшКВф╗ОхНПш░ГхЩишо▓ш╡╖я╝МщжЦхЕИф╗Лч╗Нф║Жц╢Иш┤╣шАЕхНПш░ГхЩихТМч╗ДхНПш░ГхЩия╝Мф╗ехПКф╗Цф╗мцШпхжВф╜ХщЕНхРИх╖еф╜ЬчЪДуАВф╗Оц╢Иш┤╣хБПчз╗щЗПчЪДчобчРЖх▒Хх╝Ая╝Мшпжч╗Жф╗Лч╗Нф║ЖхБПчз╗щЗПчЪДцПРф║дя╝МхПКцПРф║дчЪДцЬАф╜│хоЮш╖╡уАВцЬмшКВц▓бцЬЙц╢ЙхПКф╗гчаБщГихИЖя╝МцЙАцЬЙчЯешпЖчВ╣чЫ╕хЕ│чЪДф╗гчаБх░ЖхЬицЬАхРОф╕Ачлаф╕нч╗Яф╕Ач╗ЩхЗ║уАВчО░хЬичЪДшжБц▒ВхПкцШпчРЖшзгчЯешпЖчВ╣уАВ</p> <h2 id="хПВшАГш╡ДцЦЩ"><a href="#хПВшАГш╡ДцЦЩ" class="header-anchor">#</a> хПВшАГш╡ДцЦЩ</h2> <p><a href="http://icodebook.com/posts/coordinator" target="_blank" rel="noopener noreferrer">Apache Kafkaца╕х┐Гч╗Дф╗╢хТМц╡БчиЛ-хНПш░ГхЩи - чИ▒чаБхПФ-iCodeBook<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/echo-lxy/echo-system-design/edit/master/docs/02.Kafka  ч│╗ч╗Яшо╛шоб/06.ф╕ЙуАБф╕╗ч║┐ф╗╗хКб/700.уАМBrokerуАНхОЯчРЖхИЖцЮР/10.хНПш░ГхЩи.md" target="_blank" rel="noopener noreferrer">ч╝Цш╛С</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">ф╕КцмбцЫ┤цЦ░ф║О:</span> <span class="time">2024/09/18, 11:29:27</span></div></div> <div class="page-nav-wapper"><!----> <div class="page-nav"><p class="inner"><span class="prev">
        тЖР
        <a href="/pages/d9df7d/" class="prev">цОзхИ╢хЩи</a></span> <span class="next"><a href="/pages/b6cf91/">цЧех┐ЧчобчРЖхЩи</a>тЖТ
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:lixinyang2002@163.com" title="хПСщВоф╗╢" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/echo-lxy" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="хРмщЯ│ф╣Р" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="цЬмчлЩф╕╗щвШ">Vdoing</a> 
    | Copyright ┬й 2024-2024
    <span>Xinyang Li | MIT License</span></div> <div class="buttons"><div title="ш┐ФхЫЮщб╢щГи" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="хО╗шпДшо║" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ф╕╗щвШцибх╝П" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          ш╖ЯщЪПч│╗ч╗Я
        </li><li class="iconfont icon-rijianmoshi">
          ц╡ЕшЙ▓цибх╝П
        </li><li class="iconfont icon-yejianmoshi">
          ц╖▒шЙ▓цибх╝П
        </li><li class="iconfont icon-yuedu">
          щШЕшп╗цибх╝П
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.59640afe.js" defer></script><script src="/assets/js/2.933750c6.js" defer></script><script src="/assets/js/28.6922a65b.js" defer></script><script src="/assets/js/7.7eb70372.js" defer></script>
  </body>
</html>
